var w2=0,settings,SITE_URL="http://www.my80stv.com",START_YEAR=1980,DECADE_PREFIX="198",z4=!!window.opera||navigator.userAgent.indexOf("Opera")>=0,k7=(typeof InstallTrigger!=="undefined"),g0=Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0,r4=!!window.chrome&&!z4,i3=document.documentMode||navigator.appName.indexOf("Internet Explorer")!==-1,y5=(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)),s5=8,w1=(100/s5),m8,c1=0,m4=w1,ready_count=0,u3,b1=0,y4=0,c0=123456789,k0=987654321,k3=4294967295,y6=null,v1=null,g6=1,k8,j0=0,y0=1,b4=616,l1=482,q1=302,l2=13,o8=88,w3=22,r7=80,blackness,j8="#c0c0c0",x8="#707070",o6=0,z9=(o6&&0),c8=0,s7=0,y7=1,e5=1&&!c8,u8=1&&!c8,o0=1,k1=2,ytp=null,n1=0,j9=0,w4=false,i5=null,s2=null,t8=0,tv_initted=0,a0=0,y9="h",d1=[],t1=o0-1,p6=0,on=0,m0=-1,s9=["January","February","March","April","May","June","July","August","September","October","November","December"],y8={E:[[],[],[],[],[],[],[],[],[],[],[],[]],M:[[],[],[],[],[],[],[],[],[],[],[],[]],T:[[],[],[],[],[],[],[],[],[],[],[],[]],S:[[],[],[],[],[],[],[],[],[],[],[],[]],V:[[],[],[],[],[],[],[],[],[],[],[],[]],B:[[],[],[],[],[],[],[],[],[],[],[],[]],D:[[],[],[],[],[],[],[],[],[],[],[],[]]},snd_static,snd_click,snd_power,snd_warp,snd_knob,STATE_UNSTARTED=-1,u7=0,NUM_YEARS_IN_DECADE=10,STATE_ENDED=0,STATE_PLAYING=1,STATE_PAUSED=2,STATE_BUFFERING=3,STATE_VIDEO_CUED=5,STATUS_MESSAGE_DELAY=4000,GLOW_MIN_DISTANCE=5,GLOW_MAX_DISTANCE=26,GLOW_STATIC_DISTANCE_OFFSET=15,GLOW_STATIC_ALPHA=0.4,GLOW_STATIC_COLOR=255,GLOW_MIN_ALPHA=0,GLOW_MAX_ALPHA=3,GLOW_MIN_TIME=300,GLOW_MAX_TIME=400,GLOW_MIN_COLOR=100,GLOW_MAX_COLOR=255,PICTURE_STATIC_VINTAGE_OPACITY=0.08,i1,o9,q7,r3,o7,j2,e6,e2=PICTURE_STATIC_VINTAGE_OPACITY,params={},r5=0,d7={c:{p4:r5++,boxname:"Cartoons",label:"CARTOON",sharename:"Cartoon",count:0},s:{p4:r5++,boxname:"Comedy",label:"COMEDY",sharename:"Comedy",count:0},a:{p4:r5++,boxname:"Commercials",label:"AD",sharename:"Commercial",count:0},d:{p4:r5++,boxname:"Drama",label:"DRAMA",sharename:"Drama",count:0},g:{p4:r5++,boxname:"Gameshows",label:"GAME SHOW",sharename:"Game Show",count:0},k:{p4:r5++,boxname:"Kids",label:"KID SHOW",sharename:"Kid Show",count:0},e:{p4:r5++,boxname:"Movies",label:"MOVIE",sharename:"Movie",count:0},m:{p4:r5++,boxname:"Music",label:"MUSIC",sharename:"Music",count:0},n:{p4:r5++,boxname:"News",label:"NEWS",sharename:"News",count:0},o:{p4:r5++,boxname:"Other",label:"",sharename:"",count:0},z:{p4:r5++,boxname:"Soaps",label:"SOAP",sharename:"Soap",count:0},p:{p4:r5++,boxname:"Specials",label:"SPECIAL",sharename:"Special",count:0},r:{p4:r5++,boxname:"Sports",label:"SPORTS",sharename:"Sports",count:0},t:{p4:r5++,boxname:"Talkshows",label:"TALK SHOW",sharename:"Talk Show",count:0},f:{p4:r5++,boxname:"Trailers",label:"TRAILER",sharename:"Trailer",count:0},h:{p4:r5++,boxname:"",label:"",sharename:"",count:0}},EE={"12.25":"bG5N3GC-m20","12.26":"KBCWLhlJV0Y","12.27":"m_9hfHvQSNo","12.28":"lu3VTngm1F0"},a7=Object.keys(d7).length,c6=(1<<(d7.h.p4)),b6=c6,c5=[],g2,x0=0,y2="?",sound_manifest=[{src:"static2x.ogg",id:"static"},{src:"warp.ogg",id:"warp"},{src:"knob.ogg",id:"knob"},{src:"click.ogg",id:"click"},{src:"power.ogg",id:"power"}],seed=1383494214656,e3=function(b,c,a){return b<c?c:(b>a?a:b)},tv,s0,n3,e1,tag,z1,parts,i,j3=0,v9,commentwin,nv,ch=1,u1=new Date();for(var j=0;j<10;++j){c5.push({name:(DECADE_PREFIX+j),valid:1,o1:0})}if(y5){w6("WARNING: This site only works on desktop browsers currently :|")}function l3(){$("#loadingbar")[0].innerHTML="Loading "+Math.floor(c1)+"%"}function c7(){if(c1<m4){l3();c1++;m8=setTimeout(c7,200)}}c7();if(location.search){parts=location.search.substring(1).split("&");for(i=0;i<parts.length;i++){nv=parts[i].split("=");if(!nv[0]){continue}params[nv[0]]=nv[1]||true}}g2=document.URL.split("#")[1]||params.vid||EE[(u1.getMonth()+1)+"."+u1.getDate()];function soundLoadHandler(){onLoaded()}createjs.Sound.alternateExtensions=["mp3"];createjs.Sound.on("fileload",createjs.proxy(this.soundLoadHandler,this));createjs.Sound.registerSounds(sound_manifest,"sounds/");function n5(a){return a.split("").reverse().join("")}if(s7){if(seed===null){seed=(new Date()).getTime()}c0=seed}function q4(){if(s7){k0=(36969*(k0&65535)+(k0>>16))&k3;c0=(18000*(c0&65535)+(c0>>16))&k3;var a=((k0<<16)+c0)&k3;a/=4294967296;return a+0.5}return Math.random()}function n2(b,a){return q4()*(a-b)+b}function p7(c){var b=Math.ceil(c.length/12),e=new Array(b),a,d;for(d=0;d<b;d++){a=d*12;e[d]=c.substring(a,a+12)}return e}function pad(c,a,b){b=b||" ";c=c+"";return c.length>=a?c:new Array(a-c.length+1).join(b)+c}function pad2(d,c){return(1000000000000000+d+"").slice(-c)}function j4(d){for(var b,a,c=d.length;c;b=Math.floor(q4()*c),a=d[--c],d[c]=d[b],d[b]=a){}return d}function Settings(){this.v5=1;this.q2=1;this.p5=x0?0:1;this.u4=0;this.u0=0;this.b7=0;this.Volume=1}Settings.prototype={init:function(){var a="webkitfullscreenchange mozfullscreenchange fullscreenchange";$(document).on(a,function(){if(!(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen)){settings.b7=0}settings.w5()})},f8:function(){var e,k,l,f,h,a,c,d="0",b="72px",g=this.b7;if(!this.d3()){if(document.exitFullscreen){document.exitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitCancelFullScreen){document.webkitCancelFullScreen()}}}}else{f=document.documentElement;if(r4){f.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}else{h=f.z6||f.msRequestFullScreen;f.mozRequestFullScreen||f.webkitRequestFullScreen;if(h){h.call(f)}else{if(typeof window.ActiveXObject!=="undefined"){a=new ActiveXObject("WScript.Shell");if(a!==null){a.SendKeys("{F11}")}}}}}e=1;k=((g===2)?l1:(g===3)?(q1):b4);l=(screen.height/k);y0=l*(1/e);if(i3){o3("welcome",0);if(this.d3()){o3("credit",0);o3("guide",0)}else{o3("credit",1);o3("guide",1)}}if(ytp){ytp.setPlaybackQuality(this.d3()?"hd1080":"medium")}if(this.b7===3){b="0px";if(on){$("#myytplayer").width($(window).width()).height($(window).height());c="none"}else{c="scale("+y0+") translate("+(-(o8))+"px,"+(-(r7))+"px)"}d="100000";blackness.appendTo("body")}else{if(this.b7===0){$("#myytplayer").width(640).height(360);c="none";$(".a2a_kit").css("visibility","visible")}else{if(this.b7===1){c="scale("+y0+") translate("+(-l2)+"px,"+(-w3)+"px)"}else{if(this.b7===2){c="scale("+y0+") translate("+(-l2)+"px,"+(-w3)+"px)"}}}blackness.detach()}o3("tubeglow",(this.b7!==3));$("#myytplayer")[0].style.top=b;$("#myytplayer")[0].style.zIndex=(on?(this.b7===3?"20":"2"):"0");$(".wrapper").css("transform",c).css("-ms-transform",c).css("-webkit-transform",c).css("-moz-transform",c).css("-o-transform",c);$("#clearness")[0].style.zIndex=d;this.refreshPending=false},w5:function(){if(!this.refreshPending){this.refreshPending=true;setTimeout(this.f8.bind(this),1)}},d3:function(){return(this.b7!==0)},toggleSFX:function(){snd_knob=createjs.Sound.play("knob",{volume:0.2});settings.v5=!settings.v5;settings.v5?w6("Sound effects are now enabled",STATUS_MESSAGE_DELAY):w6("Sound effects are now <font color='red'>disabled</font>",STATUS_MESSAGE_DELAY)},z8:function(){snd_knob=createjs.Sound.play("knob",{volume:0.2});settings.p5=(settings.p5+1)%5;if(settings.p5){e2=PICTURE_STATIC_VINTAGE_OPACITY*settings.p5;w6("Vintage picture noise is now enabled ("+settings.p5+"x)",STATUS_MESSAGE_DELAY);if(on){tv.v2(0)}}else{e2=0;w6("Vintage picture noise is now <font color='red'>disabled</font>",STATUS_MESSAGE_DELAY);if(on){tv.v2(0)}}},toggleGlow:function(){snd_knob=settings.v5&&createjs.Sound.play("knob",{volume:0.2});settings.q2=!settings.q2;if(settings.q2){w6("Glow effect is now enabled",STATUS_MESSAGE_DELAY);if(on){$("#tubeglow").trigger("glow-cycle")}}else{w6("Glow effect is now <font color='red'>disabled</font>",STATUS_MESSAGE_DELAY);if(on){$("#tubeglow").stop();$("#tubeglow").css({boxShadow:"0 0 0px 0px rgba(255,255,255,0)"})}}},togglePlaylistMode:function(){snd_knob=settings.v5&&createjs.Sound.play("knob",{volume:0.2});this.u4=!this.u4;$("#tvknob2").css("opacity",this.u4?"1":"0");o3("tvled2",on&&this.u4);this.u4?w6("Playlist mode is on ( Channels play from start to end then switch )",STATUS_MESSAGE_DELAY):w6("Playlist mode is <font color='red'>off</font> ( Each channel loops continuously )",STATUS_MESSAGE_DELAY);if(on){tv.h3("PLAYLIST MODE: "+(this.u4?"ON":"OFF"))}},toggleShuffleMode:function(){var a,b;snd_knob=settings.v5&&createjs.Sound.play("knob",{volume:0.2});this.u0=!this.u0;a=s2[t1];if(this.u0){s2=j4(s2)}else{for(b=0;b<t8;++b){s2[b]=b}}for(b=0;b<t8;++b){if(a===s2[b]){t1=b}}$("#tvknob3").css("opacity",this.u0?"1":"0");o3("tvled3",on&&this.u0);this.u0?w6("Shuffle mode is on (Entire decade is randomized)",STATUS_MESSAGE_DELAY):w6("Shuffle mode is <font color='red'>off</font>",STATUS_MESSAGE_DELAY);if(on){tv.h3("SHUFFLE MODE: "+(this.u0?"ON":"OFF"))}},m3:function(){if(!g0){this.b7=0}snd_knob=settings.v5&&createjs.Sound.play("knob",{volume:0.2});this.w5()},toggleFullScreen:function(){this.b7=(this.b7+1)%4;snd_knob=settings.v5&&createjs.Sound.play("knob",{volume:0.2});this.w5()}};function l4(a){this.r1=a;this.x2=0;this.n4=0}l4.prototype={};function t0(a,b,c){this.mode=b;this.y=c;this.j6=0;this.b0=0;this.m9=0;this.v7=new l4(a)}t0.prototype={f4:function(){this.m9=0;if(this.r2){this.v7=this.r2[0]}},x9:function(a){if(!this.r2){this.r2=[];this.r2.push(this.v7)}this.r2.push(new l4(a))},k9:function(){if(this.r2){return this.r2.length}else{return 1}},setNextClip:function(){if(this.r2){var a=this.r2.length;if(a>1){if(++this.m9>=a){this.m9=0}this.v7=this.r2[this.m9]}}return this.v7},i4:function(){return this.m9===0},t3:function(){return(!this.r2||this.m9===(this.r2.length-1))},t7:function(){var a,b=this.t3()?1:0;this.v7.bad=1;if(this.r2){for(a=this.r2.length-1;a>=0;--a){if(a!==this.m9&&!this.r2[a].bad){this.setNextClip();tv.v0(b);return}}}tv.changeChan(g6)}};function m2(){this.c3=null}m2.w0="position:absolute; z-index:2; left:75px; top:72px;";m2.d2=m2.w0+"transition:opacity 3s; -moz-transition:opacity 3s; -webkit-transition:opacity 3s; -o-transition:opacity 3s; -ms-transition:opacity 3s;opacity:";m2.prototype={init:function(){var b=pad2(u1.getMonth()+1,2),a=pad2(u1.getDate(),2);w4=false;$(window).unload(function(){if(commentwin){commentwin.close()}});this.s6();n3.init();this.h8(m0*36,1);this.z3();this.t9();$("#tubeglow").bind("glow-cycle",g8);if(!x0){}tv_initted=1;if(c8){this.togglePower()}o3("loadingbar",0);if(!g2&&typeof(Storage)!=="undefined"){if(!localStorage.visM8TV){toggleMenu()}}setTimeout(this.g5.bind(this),1)},g5:function(){setTimeout(function(){o3("featurebox",1)},1)},y3:function(){var b="",a="";if(m0!==-1){b=this.a3("E","Events")+this.a3("M","Movie Releases (Opening Day)")+this.a3("T","TV (Originally Aired)")+this.a3("S","#1 Song")+this.a3("V","Video Game Releases")+this.a3("B","Births")+this.a3("D","Deaths");if(b){a="<center><font color='#00dd00'><b>Today in 198"+m0+" ("+s9[u1.getMonth()]+" "+u1.getDate()+")</b></font></center><br>"}}},a3:function(c,e){var b=y8[c][m0],a=b.length,d="",f=0;if(a>0){d="<font color='#00dd00'><b>"+e+"</b></font><br>";for(f=0;f<a;++f){d+=(" &bull;"+b[f]+"<br>")}}return d},s6:function(){var k,g,n,f,a,c,l,e,b,d,m=-1,h,o;i5=[];for(k=0;k<NUM_YEARS_IN_DECADE;++k){m={};e=p7(d1[k]);d1[k]=null;e=e5?j4(e):e;for(g=0,f=e.length;g<f;++g){a=e[g];c=a.substr(0,11);l=a.slice(-1);var p=(l===l.toLowerCase());l=l.toLowerCase();if(y7){if(p){if(!(l in m)){m[l]=t8}else{i5[m[l]].x9(c);d7[l].count++;if(i5[m[l]].k9()===k1){delete m[l]}continue}}}b=new t0(c,l,k);i5.push(b);d7[l].count++;++t8}}s2=[];for(g=0;g<t8;++g){s2[g]=g}d1=null;u7=t8.toString().length;for(n=0;n<NUM_YEARS_IN_DECADE;++n){for(k=0;k<t8;++k){if(i5[s2[k]].y===n){c5[n].o1=k;break}}}if(g2){o=n5(g2);if(["uObXTKW6vT8","66k_EcVu_M8","L2r1Uw8gAIQ","srSFglOdxPo","nHbM6PjKIzo","GQz9YWQjx_c","KhZRx2fn5tk","YkMY9qiDln4"].indexOf(g2)!==-1){m0=(c8||o6)?0:Math.floor(q4()*10);t1=c5[m0].o1;i5[s2[t1]]=new t0(o,"m",m0);return}for(k=0;k<t8;++k){b=i5[s2[k]];d=b.r2;if(d){for(g=d.length-1;g>=0;--g){if(d[g].r1===o){h=d[g].r1;d[g].r1=d[0].r1;d[0].r1=h;t1=k;c5[b.y].o1=k;return}}}else{if(b.v7.r1===o){t1=k;c5[b.y].o1=k;return}}}}else{m0=(c8||o6)?0:Math.floor(q4()*10);t1=c5[m0].o1}},f0:function(a){var d,c,b,e;e=n5(a);for(d=0;d<t8;++d){c=i5[s2[d]];b=c.r2;if(c.v7.r1===e){return d}}return 0},t9:function(){$("#tvtopknob").on("mouseenter",(function(){w6("Toggle Full-screen mode")})).on("mouseleave",(function(){j1()}));$("#tvdial2").on("mouseenter",(function(){if(!on){w6("When TV is powered on, changes the current year")}})).on("mouseleave",(function(){j1()}));$("#tvknob").on("mouseenter",(function(){w6("Power button")})).on("mouseleave",(function(){j1()}));$("#tvknob2").on("mouseenter",(function(){settings.u4?w6("Turn off Playlist Mode"):w6("Turn on Playlist mode")})).on("mouseleave",(function(){j1()}));$("#tvknob3").on("mouseenter",(function(){settings.u0?w6("Turn off Shuffle Mode"):w6("Turn on Shuffle mode")})).on("mouseleave",(function(){j1()}));$("#icontwitter").on("mouseenter",(function(){w7("Share on Twitter!")})).on("mouseleave",(function(){v4()}));$("#iconfb").on("mouseenter",(function(){w7("Share on Facebook!")})).on("mouseleave",(function(){v4()}));$("#iconsuggest").on("mouseenter",(function(){w7("Suggestion Box")})).on("mouseleave",(function(){v4()}));$(document).keydown(function(a){a=a||window.event;var e=a.which||a.keyCode;switch(e){case 27:if(settings.d3()){settings.m3()}break;case 72:toggleMenu();break;case 77:ga("send","event","toggle_sfx","key_tv");settings.toggleSFX();break;case 78:ga("send","event","toggle_noise","key_tv");settings.z8();break;case 71:ga("send","event","toggle_glow","key_tv");settings.toggleGlow();break;case 89:if(on){if(ytp!==null){var b=Math.floor(ytp.getCurrentTime());tv.togglePower();var c="http://www.youtube.com/watch?v="+n5(a0)+"#t="+b+"s";var d=window.open(c);d.focus()}}break;case 32:ga("send","event","power_button","key_tv");tv.togglePower();break;case 187:case 107:case 61:ga("send","event","btn_volup","key_tv");tv.changeVol(1);break;case 189:case 109:case 173:ga("send","event","btn_voldn","key_tv");tv.changeVol(-1);break;case 37:case 40:ga("send","event","prev_button","key_tv");tv.changeChan(-1);break;case 38:case 39:ga("send","event","next_button","key_tv");tv.changeChan(1);break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:tv.setYear(DECADE_PREFIX+(e-48));break;case 70:ga("send","event","top_knob","key_tv");settings.toggleFullScreen();break;case 80:ga("send","event","playlistmode_button","key_tv");settings.togglePlaylistMode();break;case 83:ga("send","event","shufflemode_button","key_tv");settings.toggleShuffleMode();break;default:return true}a.preventDefault();return false})},togglePower:function(){if(on&&!p6){return}n3.p0();on=!on;$("#tvknob").css("opacity",on?"1":"0");o3("tvled",on);o3("tvled2",on&&settings.u4);snd_power=settings.v5&&createjs.Sound.play("power",{volume:1});if(on){if(j0){toggleMenu()}this.v0(1);$("#btn_power")[0].style.color="#00ff00";$("#btn_power")[0].style.backgroundColor=j8;$("#btn_prev")[0].style.backgroundColor=j8;$("#btn_next")[0].style.backgroundColor=j8;$("#btn_voldn")[0].style.backgroundColor=j8;$("#btn_volup")[0].style.backgroundColor=j8;$("#btn_menu")[0].style.backgroundColor=j8;o3("hand",0);o3("yearfilters",1);o3("welcome",0);o3("lcdbar",1);if(settings.q2){$("#tubeglow").trigger("glow-cycle")}}else{this.v2(2);if(settings.q2){$("#tubeglow").stop();$("#tubeglow").css({boxShadow:"0 0 0px 0px rgba(255,255,255,0)"})}this.u9();if(this.c3){clearTimeout(this.c3)}ytp.stopVideo();$("#btn_power")[0].style.color="#ff0000";$("#btn_power")[0].style.backgroundColor=x8;$("#btn_prev")[0].style.backgroundColor=x8;$("#btn_next")[0].style.backgroundColor=x8;$("#btn_voldn")[0].style.backgroundColor=x8;$("#btn_volup")[0].style.backgroundColor=x8;$("#btn_menu")[0].style.backgroundColor=x8;p6=0;document.location.hash="";w4=false;o5("btn_prev",0);o5("btn_next",0);o3("yearfilters",0);o2();o3("lcdbar",0);settings.w5()}},q6:function(){var a;blackness=$("#blackness"),blackness.css({transition:"opacity 1s"}).css({"-moz-transition":"opacity 1s"}).css({"-webkit-transition":"opacity 1s"}).css({"-o-transition":"opacity 1s"}).css({"-ms-transition":"opacity 1s"});blackness.css("opacity","0");a="transitionend webkitTransitionEnd oTransitionEnd otransitionend";blackness.on(a,function(){blackness.off(a).detach()})},z3:function(){o3("tvbackground",1);o3("tvstencil",1);o3("logo",1);o3("tvdial",1);o3("tvdial2",1);o3("tvbuttons",1);o3("tvfilters",1);o3("icontwitter",1);o3("iconfb",1);o3("iconsuggest",1);if(!x0){o3("myothertv",1);o3("myothertv2",1);o3("coffee",1)}o3("guide",1);$(".a2a_kit").css("visibility","visible");o3("btn_power",1);o3("hand",1);$("#hand").hover(function(){o3("hand",0)});o3("welcome",1);o3("credit",1);this.q6()},t6:function(d,c,b,g){var f=(b-c)%360,e;if(f>180){f-=360}else{if(f<-180){f+=360}}b=c+(f%360);e=$("#"+d);e.css("-webkit-transform-origin","25px 25px");e.css("transform-origin","25px 25px");e.css("-ms-transform-origin","25px 25px");e.css({WebkitTransform:"rotate("+b+"deg)"});e.css({"-moz-transform":"rotate("+b+"deg)"});e.css({"-ms-transform":"rotate("+b+"deg)"});if(!g){e.css({"-moz-transition":"all 0.75s ease"});e.css({"-webkit-transition":"all 0.75s ease"});e.css({"-o-transition":"all 0.75s ease"});e.css({transition:"all 0.75s ease"})}return b},a6:function(a,b){n1=this.t6("tvdial",n1,a,b)},h8:function(a,b){j9=this.t6("tvdial2",j9,a,b)},x5:function(d,a){if(d==="TOUR"){ga("send","event","featured","pixies-tour");return}d=parseInt(d)-1;var b=i5[s2[d]];ga("send","event","featured","pixies-x1");j3=a||0;m0=b.y;t1=d;b.rew=true;b.f4();var c=(1<<d7.m.p4);b6=b6|(1<<d7[b.mode].p4);$("#box_m").prop("checked",true);$("#filter_none")[0].style.textDecoration=(b6===c6)?"none":"underline";$("#filter_all")[0].style.textDecoration=b6===((1<<a7)-1)?"none":"underline";if(!on){tv.togglePower()}else{tv.v0(1);s0.refresh(1)}snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});this.a6(10*t1)},changeChan:function(a){if(a===0){return 0}if(b1){return 0}else{if(settings.u4){b1=setTimeout(function(){b1=0},500)}}snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});this.a6(n1+10*a);if(!on){return 0}g6=a?a:g6;if(k8){clearTimeout(k8)}if(ytp!==null){if(a===-1){o5("btn_prev",1);o5("btn_next",0)}else{if(a===1){o5("btn_prev",0);o5("btn_next",1)}}this.n6(a);if(settings.u4){i5[s2[t1]].f4()}this.v0(1)}return 1},n6:function(c){t1=(t1+c+t8)%t8;var a=(c>=0)?1:-1,b;b=t8;while((b6&(1<<d7[i5[s2[t1]].mode].p4))===0){t1=(t1+a+t8)%t8;if(--b<-1){alert("Error: Unable to find channel, likely due to filtering ( Likely missing HIDDEN channel )");return}}},u9:function(){$("#channellabel")[0].innerHTML=""},v0:function(c){if(!on){return}if(k8){clearTimeout(k8)}if(v1){clearTimeout(v1);v1=null}$("#lcdbar")[0].innerHTML="<font>LOADING...</font>";if(ytp!==null){this.n6(0);var a=i5[s2[t1]],b;c5[a.y].o1=t1;for(b=0;b<NUM_YEARS_IN_DECADE;++b){if(b===a.y){m0=b;s0.refresh();break}}this.h8(m0*36);y9=a.mode;if(c){this.d6()}this.f2();if(settings.d3()&&settings.b7===2){w6(""+(START_YEAR+m0),STATUS_MESSAGE_DELAY)}this.v2(c);this.y3()}},d6:function(){var a;a=d7[y9].label;if(a!==""){a+=" -"}ch=pad(t1+1,u7);this.h3(a+" CH "+ch)},h3:function(a){$("#channellabel")[0].innerHTML="<h2>"+a+"</h2>";if(this.c3){clearTimeout(this.c3)}this.c3=setTimeout(this.u9,5000)},f2:function(){var b,a=i5[s2[t1]];v9=Date.now();w4=true;if(a.v7.x2&&!settings.u4){b=Math.floor((v9-a.j6)/1000);if(v9>a.b0){if(a.k9()===1){j3=b%Math.floor(a.v7.n4)}else{a.setNextClip();j3=0}}else{j3=b}}ytp.loadVideoById(n5(a.v7.r1),0,settings.d3()?"default":"medium");document.location.hash=n5(a.v7.r1);this.m7()},m7:function(){if(i5[s2[t1]].mode!=="h"){if(v1){clearTimeout(v1);v1=null}v1=setTimeout(function(){$.get("https://www.googleapis.com/youtube/v3/videos?id="+n5(i5[s2[t1]].v7.r1)+"&key=AIzaSyDgMsjUBgtDfECYuR6HBXCbg_23lUSrqcc&fields=items(snippet(title))&part=snippet",function(b){var a=b&&b.items;a=a&&a[0];a=a&&a.snippet;a=a&&a.title;if(v1&&a){$("#lcdbar")[0].innerHTML="<font>"+a+"</font>";v1=null}})},TITLE_FETCH_DELAY=1000)}else{$("#lcdbar")[0].innerHTML="<font></font>"}},q3:function(){ytp.setLoop(true);if(!w2){w2=1}var a=i5[s2[t1]],d,b=/v=([a-zA-Z0-9_-]{11})/,c;if(!settings.u4&&!a.rew){c=a.v7;if(!c.x2){c.n4=ytp.getDuration();if(a.i4()){j3=(u8&&!g2)?n2(0,c.n4):0}else{j3=0}c.x2=1}a.j6=v9-(j3*1000);a.b0=a.j6+((c.n4-j3)*1000)}if(g2){g2=0}if(!settings.u4||a.rew){ytp.seekTo(Math.floor(j3),true)}a.rew=false;d=ytp.getVideoUrl(),a0=n5(b.exec(d)[1])},setYear:function(b){if(!c5[b-START_YEAR].valid){return}var a=m0,f,d,e;for(f=0;f<NUM_YEARS_IN_DECADE;++f){if(c5[f].name===b){if(f!==a){for(d=0;d<t8;++d){e=(c5[f].o1+d)%t8;if(i5[s2[e]].y===f&&((b6&(1<<d7[i5[s2[e]].mode].p4))!==0)){snd_warp=settings.v5&&createjs.Sound.play("warp",{volume:0.8});m0=f;t1=e;tv.v0(1);break}}}s0.refresh();break}}},changeYear:function(b){if(!on){return}var a=DECADE_PREFIX+((m0+b)%NUM_YEARS_IN_DECADE);tv.setYear(a)},changeVol:function(b){if(!on){return}snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});if(ytp!==null){var a=Math.min(Math.max(ytp.getVolume()+b*10,0),100);ytp.setVolume(a);settings.Volume=e3(settings.Volume+(b*0.1),0,1);o5((b===1)?"btn_volup":"btn_voldn",1);if(y6){clearTimeout(y6)}y6=setTimeout(o2,500)}},v2:function(a){e6=(a===1)?1:0;if(a!==2){$("#tvstatic")[0].style.cssText=m2.d2+(a?"1":e2)+";";if(snd_static){snd_static.stop()}if(a){if(!settings.u4){snd_static=settings.v5&&createjs.Sound.play("static",{volume:settings.Volume*0.1})}}}else{$("#tvstatic")[0].style.cssText=m2.w0+"opacity:0;";if(snd_static){snd_static.stop()}}}};tv=new m2();p1.s3="#00ff00";p1.s4="#ffffff";p1.i8="#aaaaaa";p1.p3="#444444";var y;p1.g1="20px";p1.h6="22px";p1.e8="22px";function p1(){}p1.prototype={refresh:function(b){var h;if(b){for(h=0;h<NUM_YEARS_IN_DECADE;++h){c5[h].valid=0}for(i=0;i<t8;++i){if((b6&(1<<d7[i5[s2[i]].mode].p4))!==0){c5[i5[s2[i]].y].valid=1}}}var e="",d,c,g,a,f;for(d=0;d<NUM_YEARS_IN_DECADE;++d){c=c5[d].name;g=d*50;a=(d===m0)?p1.h6:p1.g1;f=(d===m0)?p1.s3:c5[d].valid?p1.i8:p1.p3;e+='<span name="'+c+'" class="year" style="font-size:'+a+"; left:"+g+"px; color:"+f+';">'+c+" </span>"}$("#yearfilters")[0].innerHTML=e;$(".year").hover(function(){var k=$(this).attr("name");if(!c5[k-START_YEAR].valid){return}if(k!==c5[m0].name){$(this).css("fontSize",p1.e8).css("color",p1.s4).css("cursor","pointer")}else{$(this).css("fontSize",p1.h6).css("color",p1.s3)}},function(){var k=$(this).attr("name");if(!c5[k-START_YEAR].valid){return}if(k!==c5[m0].name){$(this).css("fontSize",p1.g1).css("color",p1.i8)}else{$(this).css("fontSize",p1.h6).css("color",p1.s3)}});$(".year").click(function(){var k=$(this).attr("name");ga("send","event","year_button","clicked"+k);tv.setYear(k)})}};s0=new p1();function suggestChan(){window.open("https://docs.google.com/forms/d/e/1FAIpQLSeqsJAa9wRFhJfKI40aUYuvUipYIuen9rfE5IdgmSFHhV77fA/viewform","_newtab")}function w7(a){$("#remotestatus")[0].innerHTML="<font>"+a+"</font>"}function v4(){$("#remotestatus")[0].innerHTML=""}function w6(b,a){$("#status")[0].innerHTML="<font>"+b+"</font>";if(u3){clearTimeout(u3)}if(a){u3=setTimeout(j1,a)}}function j1(){$("#status")[0].innerHTML=""}function o2(){o5("btn_voldn",0);o5("btn_volup",0)}function o3(b,a){$("#"+b)[0].style.visibility=a?"visible":"hidden"}function o5(b,a){$("#"+b)[0].style.color=(a?"#00ff00":"#000000")}function onBodyLoaded(){settings=new Settings();settings.init();$.ajax({type:"POST",url:"database.php",datatype:"html",data:y2,success:function(a){d1=JSON.parse(a);onLoaded()}});onLoaded()}function onBodyBlurred(){if(document.activeElement===$("#myytplayer")[0]){setTimeout(function(){window.focus()},0)}}function p2(){i1=Math.floor(n2(GLOW_MIN_DISTANCE,GLOW_MAX_DISTANCE))+(e6?GLOW_STATIC_DISTANCE_OFFSET:0);o9=e6?GLOW_STATIC_ALPHA:(Math.floor(n2(GLOW_MIN_ALPHA,GLOW_MAX_ALPHA))/10);j2=e6?GLOW_MAX_TIME:Math.floor(n2(GLOW_MIN_TIME,GLOW_MAX_TIME));q7=e6?GLOW_STATIC_COLOR:Math.floor(n2(GLOW_MIN_COLOR,GLOW_MAX_COLOR));r3=e6?GLOW_STATIC_COLOR:Math.floor(n2(GLOW_MIN_COLOR,GLOW_MAX_COLOR));o7=e6?GLOW_STATIC_COLOR:Math.floor(n2(GLOW_MIN_COLOR,GLOW_MAX_COLOR))}function g8(){p2();$(this).animate({boxShadow:"0 0 "+i1+"px "+i1+"px rgba("+q7+","+r3+","+o7+","+o9+")"},j2,v3)}function v3(){p2();$(this).animate({boxShadow:"0 0 "+i1+"px "+i1+"px rgba("+q7+","+r3+","+o7+","+o9+")"},j2,l7)}function l7(){$(this).trigger("glow-cycle")}function onLoaded(){if(++ready_count===s5){clearTimeout(m8);c1=ready_count*w1;l3();tv.init();if(x0){tv.togglePower()}}else{c1=ready_count*w1;m4=(ready_count+1)*w1;clearTimeout(m8);m8=setTimeout(c7,200)}}function toggleMenu(){j0=!j0;var b=$("#help"),a;if(j0){a="H : Show or hide this help screen<br>";a+="Space : Power on and off the television<br>";a+="+ - : Change Volume<br>";a+="g : Toggle TV Glow Effect<br>";a+="m : Toggle TV Sound Effects<br>";a+="n : Change TV Vintage Picture Noise<br>";a+="Arrow Keys : Change Channel<br>";a+="0,1,2,3,4,5,6,7,8,9 : Set Year (Jumps to "+DECADE_PREFIX+"#)<br>";a+="F : Change Fullscreen Settings (ESC to exit)<br>";a+="P : Toggle Playlist Mode<br>";a+="S : Toggle Shuffle Mode<br>";a+="Y : Watch current clip on YouTube<br>";b[0].innerHTML="<font>"+a+"</font>";b.css("visibility","visible")}else{b.css("visibility","hidden");if(typeof(Storage)!=="undefined"){localStorage.visM8TV=1}}o3("helpback",j0)}function k2(){}k2.prototype={init:function(){var b="<form>",a,c;for(a in d7){if(a!=="h"){c=d7[a];b+='<input id="box_'+a+'" class="css-checkbox" name="boxes[]" type="checkbox" value="'+c.p4+'" onclick="n3.toggleBox(this)" checked="checked" />';b+='<label for="box_'+a+'" name="lbl_'+a+'" class="css-label">'+c.boxname+" ("+c.count+") </label><br>"}}b+='<span style="font-size:small; line-height:15px; color:#00ff00;"> Select <label id="filter_all" name="filter_all" onclick="n3.selectAll();">All</label> | <label id="filter_none" name="filter_none" onclick="n3.selectNone();">None</label></span>';b+="</form>";$("#tvfilters")[0].innerHTML=b;this.p0()},selectAll:function(){snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});$("input[name='boxes[]']").each(function(){this.checked=true});this.p0()},selectNone:function(){snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});$("input[name='boxes[]']").each(function(){this.checked=false});this.p0()},p0:function(){var a,c,b;b6=c6;$("input[name='boxes[]']:checked").each(function(){a=parseInt($(this).val());b6=b6|(1<<a)});$("#filter_none")[0].style.textDecoration=(b6===c6)?"none":"underline";$("#filter_all")[0].style.textDecoration=b6===((1<<a7)-1)?"none":"underline";s0.refresh(1)},toggleBox:function(a){snd_click=settings.v5&&createjs.Sound.play("click",{volume:1});ga("send","event",a.id,a.checked);this.p0()}};n3=new k2();function skipError(){var a=i5[s2[t1]];i5[s2[t1]].t7()}function YouTube(){}YouTube.prototype={a4:function(){if(tv){tv.v2(1);if(o6){skipError()}else{if(k8){clearTimeout(k8)}k8=setTimeout(skipError,4000)}}},o4:function(){tv.q3();tv.v2(0);o5("btn_prev",0);o5("btn_next",0)},u2:function(a){ytp=a.target;onLoaded()},q5:function(){var a=i5[s2[t1]],b=a.t3()?1:0;if(settings.u4){if(b){tv.changeChan(1);return}a.setNextClip()}else{a.b0=0}tv.v0(b)},f5:function(a){switch(a.data){case STATE_UNSTARTED:break;case STATE_ENDED:e1.q5();break;case STATE_PLAYING:if(w4){w4=false;e1.o4()}else{o3("btn_power",1)}if(!p6){settings.w5();p6=1}break;case STATE_PAUSED:e1.q5();break;case STATE_BUFFERING:break;case STATE_VIDEO_CUED:break;default:break}}};e1=new YouTube();tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";z1=document.getElementsByTagName("script")[0];z1.parentNode.insertBefore(tag,z1);function onYouTubeIframeAPIReady(){ytp=new YT.Player("myytplayer",{width:"640",height:"360",playerVars:{enablejsapi:1,playerapiid:"ytplayer",version:3,autoplay:0,autohide:1,controls:0,fs:0,rel:0,loop:1,origin:"my80stv.com",modestbranding:1,showinfo:0,iv_load_policy:3,wmode:"opaque"},events:{onReady:e1.u2,onError:e1.a4,onStateChange:e1.f5}})};